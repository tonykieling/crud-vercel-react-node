(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},61:function(e,t,n){},80:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(24),i=n.n(a),r=(n(48),n(10)),l=n(3),d=(n(49),n(50),n(1)),o=function(){return Object(d.jsxs)("div",{className:"topnav",children:[Object(d.jsx)(r.b,{to:"/",children:"Home"}),Object(d.jsx)(r.b,{to:"addProduct",children:"Add Product"}),Object(d.jsx)(r.b,{to:"listProducts",children:"List Products"})]})},j=n(11),h=n.n(j),b=n(14),u=n(17),m=n(12),p=n(5),O=(n(61),n(15)),x=n.n(O),f={name:"",weight:"",height:"",width:"",depth:""},g="Save Product",v="bt-style-green",N=function(){var e=Object(c.useState)(f),t=Object(p.a)(e,2),n=t[0],s=t[1],a=Object(c.useRef)(null),i=function(e){var t=e.target,n=t.name,c=t.value;s((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},n,c))})),k(g),D(v)},r=Object(c.useState)(!1),l=Object(p.a)(r,2),o=l[0],j=l[1],O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];j(e)},N=Object(c.useState)(g),y=Object(p.a)(N,2),w=y[0],k=y[1],C=Object(c.useState)(v),S=Object(p.a)(C,2),P=S[0],D=S[1],T=function(){var e=Object(b.a)(h.a.mark((function e(t){var c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.name){e.next=7;break}k("Please, fill name"),D("bt-style-yellow"),a.current.focus(),e.next=27;break;case 7:return O(!0),"/api",c=n,e.prev=10,console.log("sending to server:::",c),k("Processing..."),e.next=15,x.a.post("/api",c,{headers:{"Content-Type":"application/json"}});case 15:i=e.sent,console.log("receiving from server:::",i),i.data.message?k(g):k("Try again, please"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),console.log("### error post",e.t0);case 23:s(f),k("Product has been Added succesfully!"),D("bt-style-blue"),setTimeout((function(){k(g),D(v),O(),a.current.focus()}),2500);case 27:case"end":return e.stop()}}),e,null,[[10,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"main",children:[Object(d.jsx)("h2",{className:"main-title",children:" Add Product page"}),Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"label-form",children:" Name "}),Object(d.jsx)("input",{autoFocus:!0,required:!0,id:"name",className:"text-form",type:"text",name:"name",value:n.name,onChange:i,ref:a,disabled:o})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"label-form",children:" Weight "}),Object(d.jsx)("input",{id:"weight",className:"text-form",type:"number",name:"weight",value:n.weight,onChange:i,disabled:o}),Object(d.jsx)("span",{className:"units",children:"Kg"})]}),Object(d.jsx)("p",{className:"label-form",children:" Dimensions "}),Object(d.jsxs)("div",{className:"dimensions",children:[Object(d.jsx)("span",{className:"dimensions-title",children:" Height "}),Object(d.jsx)("input",{id:"height",type:"number",className:"dimensions-fields",name:"height",value:n.height,onChange:i,disabled:o}),Object(d.jsx)("span",{className:"units",children:"cm"})]}),Object(d.jsxs)("div",{className:"dimensions",children:[Object(d.jsx)("span",{className:"dimensions-title",children:" Width "}),Object(d.jsx)("input",{id:"width",type:"number",className:"dimensions-fields",name:"width",value:n.width,onChange:i,disabled:o}),Object(d.jsx)("span",{className:"units",children:"cm"})]}),Object(d.jsxs)("div",{className:"dimensions",children:[Object(d.jsx)("span",{className:"dimensions-title",children:" Depth "}),Object(d.jsx)("input",{id:"depth",type:"number",className:"dimensions-fields",name:"depth",value:n.depth,onChange:i,disabled:o}),Object(d.jsx)("span",{className:"units",children:"cm"})]}),Object(d.jsx)("div",{style:{textAlign:"center"},children:Object(d.jsxs)("button",{type:"submit",className:P,onClick:T,children:[" ",w]})})]})]})},y=n(43),w=(n(80),n(20)),k=n(41),C=n(42),S=n(39),P=n.n(S),D=(n(90),n(40)),T={content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"lightcyan"}},A=Object(d.jsxs)("b",{children:[" Saving data... ",Object(d.jsx)(D.a,{})]}),W=function(e){var t=Object(c.useState)(e.product),n=Object(p.a)(t,2),s=n[0],a=s._id,i=s.name,r=s.weight,l=s.height,o=s.width,j=s.depth,O=n[1],f=Object(c.useState)(""),g=Object(p.a)(f,2),v=g[0],N=g[1],y=Object(c.useState)(!1),w=Object(p.a)(y,2),k=w[0],C=w[1],S=function(e){var t=e.target,n=t.name,c=t.value;O((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},n,c))}))},D=function(){var t=Object(b.a)(h.a.mark((function t(){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N(A),C(!0),n={_id:a,name:i,weight:r||void 0,height:l||void 0,width:o||void 0,depth:j||void 0},"/api",t.prev=4,t.next=7,x.a.patch("/api",n,{headers:{"Content-Type":"application/json"}});case 7:c=t.sent,e.changeProduct(n),C(!1),c.data.message?N(c.data.message):N(c.data.error),setTimeout((function(){N("")}),2500),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),console.log("error:",t.t0.message||t.t0);case 17:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(){return t.apply(this,arguments)}}();return Object(d.jsx)(P.a,{ariaHideApp:!1,isOpen:e.openModal,style:T,children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{className:"modal-title",children:"Edit product"}),Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"modal-label",children:" Name "}),Object(d.jsx)("input",{required:!0,id:"name",className:"text-form",type:"text",name:"name",value:i,onChange:S,disabled:k})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"modal-label",children:" Weight "}),Object(d.jsx)("input",{id:"weight",className:"text-form",type:"number",name:"weight",value:r,onChange:S,disabled:k}),Object(d.jsx)("span",{className:"units",children:"Kg"})]}),Object(d.jsx)("p",{className:"modal-label",children:" Dimensions "}),Object(d.jsxs)("div",{className:"dimensions",children:[Object(d.jsx)("span",{className:"dimensions-title",children:" Height "}),Object(d.jsx)("input",{id:"height",type:"number",className:"dimensions-fields",name:"height",value:l,onChange:S,disabled:k}),Object(d.jsx)("span",{className:"units",children:"cm"})]}),Object(d.jsxs)("div",{className:"dimensions",children:[Object(d.jsx)("span",{className:"dimensions-title",children:" Width "}),Object(d.jsx)("input",{id:"width",type:"number",className:"dimensions-fields",name:"width",value:o,onChange:S,disabled:k}),Object(d.jsx)("span",{className:"units",children:"cm"})]}),Object(d.jsxs)("div",{className:"dimensions",children:[Object(d.jsx)("span",{className:"dimensions-title",children:" Depth "}),Object(d.jsx)("input",{id:"depth",type:"number",className:"dimensions-fields",name:"depth",value:j,onChange:S,disabled:k}),Object(d.jsx)("span",{className:"units",children:"cm"})]})]}),Object(d.jsx)("div",{className:"message",children:Object(d.jsxs)("p",{children:[" ",v]})}),Object(d.jsxs)("div",{className:"d-flex flex-column bt-position",children:[Object(d.jsx)("button",{className:"".concat(k?"disabled-bt-style":"bt-style close"),onClick:function(){return e.closeModal()},disabled:k,children:"Close"}),Object(d.jsx)("button",{className:"".concat(k?"disabled-bt-style":"bt-style save"),onClick:function(){return D()},disabled:k,children:"Save"})]})]})})},E="/api",_={textAlign:"center",fontWeight:"bold",padding:"1rem"},F=Object(d.jsx)("tr",{children:Object(d.jsxs)("td",{colSpan:"7",style:Object(m.a)(Object(m.a)({},_),{},{color:"red"}),children:[Object(d.jsxs)("p",{children:["DB is empty. ",Object(d.jsx)(k.a,{color:"gray"})]}),Object(d.jsx)("p",{children:"Add new products by clicking in "}),Object(d.jsx)("p",{children:Object(d.jsx)(r.b,{to:"/addProduct",children:Object(d.jsx)("span",{style:{color:"blue"},children:"Add a new Product"})})})]})}),H=Object(d.jsx)("tr",{children:Object(d.jsxs)("td",{colSpan:"7",style:Object(m.a)(Object(m.a)({},_),{},{color:"green",padding:"2rem"}),children:[Object(d.jsx)(C.a,{})," Processing the db request..."]})}),M=function(){var e=Object(c.useState)(""),t=Object(p.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(p.a)(a,2),r=i[0],l=i[1],o=Object(c.useState)(""),j=Object(p.a)(o,2),u=j[0],m=j[1],O=Object(c.useState)(!1),f=Object(p.a)(O,2),g=f[0],v=f[1],N=Object(c.useState)(""),k=Object(p.a)(N,2),C=k[0],S=k[1];Object(c.useEffect)((function(){return l(H),function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(E,{headers:{"Content-Type":"application/json"},data:{action:"name"}});case 3:if(!(t=e.sent).data.content){e.next=8;break}s(t.data.content),e.next=9;break;case 8:throw new Error;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),l(null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()(),function(){s({}),l({}),m(""),v(""),S("")}}),[]),Object(c.useEffect)((function(){n&&n.length&&l(A(n))}),[n]);var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update",t=arguments.length>1?arguments[1]:void 0;if("remove"===e)return n.filter((function(e){return e._id!==t}));var c=n.filter((function(e){return e._id!==t._id}));return[].concat(Object(y.a)(c),[t])},D=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,c,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=window.prompt("Type product's name (".concat(t.name,") to confirm you wanna delete it:")))!==t.name){e.next=25;break}return c={productId:t._id},e.prev=3,m("Deleting..."),e.next=7,x.a.delete(E,{headers:{"Content-Type":"application/json"},data:c});case 7:if(!(a=e.sent).data.success){e.next=14;break}m('Product "'.concat(t.name,'" has been deleted successfully!')),i=P("remove",t._id),s(i),e.next=15;break;case 14:throw new Error(a.data.error);case 15:setTimeout((function(){m("")}),3e3),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(3),console.log("### error post",e.t0),console.log("### error.message",e.t0.message),m(e.t0.message||"Something bad happened, please try again later. ;)");case 23:e.next=26;break;case 25:window.alert("Wrong product's name.\n\n  You typed: ".concat(n||"<empty>","\n  It has to be: ").concat(t.name));case 26:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),T=function(e){S(e),v(!0)},A=function(e){return e.map((function(e,t){var n=e._id,c=e.name,s=e.weight,a=e.height,i=e.width,r=e.depth;return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:"set-center",onClick:function(){return T(e)},children:t+1}),Object(d.jsx)("td",{className:"set-left",onClick:function(){return T(e)},children:c}),Object(d.jsx)("td",{className:"set-center",onClick:function(){return T(e)},children:s}),Object(d.jsx)("td",{className:"set-center",onClick:function(){return T(e)},children:a}),Object(d.jsx)("td",{className:"set-center",onClick:function(){return T(e)},children:i}),Object(d.jsx)("td",{className:"set-center",onClick:function(){return T(e)},children:r}),Object(d.jsx)("td",{className:"icons",onClick:function(){return T(e)},children:Object(d.jsxs)("div",{className:"tooltip",children:[Object(d.jsx)("span",{className:"tooltip-text",children:"Edit product"}),Object(d.jsx)(w.a,{color:"green"})]})}),Object(d.jsx)("td",{className:"icons",onClick:function(){return D(e)},children:Object(d.jsxs)("div",{className:"tooltip",children:[Object(d.jsx)("span",{className:"tooltip-text",children:"Delete product"}),Object(d.jsx)(w.b,{color:"darkred"})]})})]},n)}))};return Object(d.jsxs)("div",{className:"main",children:[g&&Object(d.jsx)(W,{openModal:g,closeModal:function(){return v(!1)},product:C,changeProduct:function(e){return function(e){var t=P("update",e);s(t)}(e)}}),Object(d.jsx)("h2",{className:"main-title",children:" List Products page"}),Object(d.jsx)("div",{className:"message",children:Object(d.jsxs)("p",{children:[" ",u]})}),Object(d.jsxs)("table",{children:[Object(d.jsxs)("thead",{id:"color-head",children:[Object(d.jsxs)("tr",{style:{align:"center"},children:[Object(d.jsx)("th",{rowSpan:"2",className:"num-head",children:" #"}),Object(d.jsx)("th",{rowSpan:"2",className:"name-head",children:"Name"}),Object(d.jsx)("th",{rowSpan:"2",className:"others-head",children:"Weight (Kg)"}),Object(d.jsx)("th",{rowSpan:"1",colSpan:"3",children:"Dimensions (cm)"}),Object(d.jsx)("th",{rowSpan:"2",colSpan:"2",children:"Actions"})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"others-head",children:"Height"}),Object(d.jsx)("th",{className:"others-head",children:"Width"}),Object(d.jsx)("th",{className:"others-head",children:"Depth"})]})]}),Object(d.jsx)("tbody",{children:r||F})]})]})},I=(n(91),function(){return Object(d.jsxs)("div",{className:"home-settings",children:[Object(d.jsx)("h1",{children:" Hello Mr. Dumpty"}),Object(d.jsx)("h2",{children:" Welcome and enjoy the system "}),Object(d.jsx)("h2",{children:"In the bar above you can reach and work on the folowing features:"}),Object(d.jsx)("div",{className:"list-position",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)(r.b,{to:"/addProduct",children:Object(d.jsx)("h2",{children:"1. Add a new Product"})}),Object(d.jsx)(r.b,{to:"/listProducts",children:Object(d.jsx)("h2",{children:"2. List, Edit and Delete a product"})})]})})]})});var L=function(){return Object(d.jsxs)(r.a,{children:[Object(d.jsx)(o,{}),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",children:Object(d.jsx)(I,{})}),Object(d.jsx)(l.a,{exact:!0,path:"/addProduct",children:Object(d.jsx)(N,{})}),Object(d.jsx)(l.a,{exact:!0,path:"/listProducts",children:Object(d.jsx)(M,{})})]})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,93)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(L,{})}),document.getElementById("root")),q()}},[[92,1,2]]]);
//# sourceMappingURL=main.0af62803.chunk.js.map