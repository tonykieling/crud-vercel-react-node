(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},61:function(e,t,n){},80:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(24),i=n.n(a),r=(n(48),n(10)),d=n(3),l=(n(49),n(50),n(1)),o=function(){return Object(l.jsxs)("div",{className:"topnav",children:[Object(l.jsx)(r.b,{to:"/",children:"Home"}),Object(l.jsx)(r.b,{to:"addProduct",children:"Add Product"}),Object(l.jsx)(r.b,{to:"listProducts",children:"List Products"})]})},j=n(11),b=n.n(j),h=n(14),u=n(17),m=n(12),p=n(5),O=(n(61),n(15)),x=n.n(O),f={name:"",weight:"",height:"",width:"",depth:""},g="Save Product",v="bt-style-green",N=function(){var e=Object(c.useState)(f),t=Object(p.a)(e,2),n=t[0],s=t[1],a=Object(c.useRef)(null),i=function(e){var t=e.target,n=t.name,c=t.value;s((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},n,c))})),k(g),D(v)},r=Object(c.useState)(!1),d=Object(p.a)(r,2),o=d[0],j=d[1],O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];j(e)},N=Object(c.useState)(g),y=Object(p.a)(N,2),w=y[0],k=y[1],C=Object(c.useState)(v),S=Object(p.a)(C,2),P=S[0],D=S[1],A=function(){var e=Object(h.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.name){e.next=7;break}k("Please, fill name"),D("bt-style-yellow"),a.current.focus(),e.next=25;break;case 7:return O(!0),"/api",c=n,e.prev=10,k("Processing..."),e.next=14,x.a.post("/api",c,{headers:{"Content-Type":"application/json"}});case 14:e.sent.data.message?k(g):k("Try again, please"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),console.log("### error post",e.t0);case 21:s(f),k("Product has been Added succesfully!"),D("bt-style-blue"),setTimeout((function(){k(g),D(v),O(),a.current.focus()}),2500);case 25:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)("h2",{className:"main-title",children:" Add Product page"}),Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{className:"label-form",children:" Name "}),Object(l.jsx)("input",{autoFocus:!0,required:!0,id:"name",className:"text-form",type:"text",name:"name",value:n.name,onChange:i,ref:a,disabled:o})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{className:"label-form",children:" Weight "}),Object(l.jsx)("input",{id:"weight",className:"text-form",type:"number",name:"weight",value:n.weight,onChange:i,disabled:o}),Object(l.jsx)("span",{className:"units",children:"Kg"})]}),Object(l.jsx)("p",{className:"label-form",children:" Dimensions "}),Object(l.jsxs)("div",{className:"dimensions",children:[Object(l.jsx)("span",{className:"dimensions-title",children:" Height "}),Object(l.jsx)("input",{id:"height",type:"number",className:"dimensions-fields",name:"height",value:n.height,onChange:i,disabled:o}),Object(l.jsx)("span",{className:"units",children:"cm"})]}),Object(l.jsxs)("div",{className:"dimensions",children:[Object(l.jsx)("span",{className:"dimensions-title",children:" Width "}),Object(l.jsx)("input",{id:"width",type:"number",className:"dimensions-fields",name:"width",value:n.width,onChange:i,disabled:o}),Object(l.jsx)("span",{className:"units",children:"cm"})]}),Object(l.jsxs)("div",{className:"dimensions",children:[Object(l.jsx)("span",{className:"dimensions-title",children:" Depth "}),Object(l.jsx)("input",{id:"depth",type:"number",className:"dimensions-fields",name:"depth",value:n.depth,onChange:i,disabled:o}),Object(l.jsx)("span",{className:"units",children:"cm"})]}),Object(l.jsx)("div",{style:{textAlign:"center"},children:Object(l.jsxs)("button",{type:"submit",className:P,onClick:A,disabled:o,children:[" ",w]})})]})]})},y=n(43),w=(n(80),n(20)),k=n(41),C=n(42),S=n(39),P=n.n(S),D=(n(90),n(40)),A={content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"lightcyan"}},T=Object(l.jsxs)("b",{children:[" Saving data... ",Object(l.jsx)(D.a,{})]}),W=function(e){var t=Object(c.useState)(e.product),n=Object(p.a)(t,2),s=n[0],a=s._id,i=s.name,r=s.weight,d=s.height,o=s.width,j=s.depth,O=n[1],f=Object(c.useState)(""),g=Object(p.a)(f,2),v=g[0],N=g[1],y=Object(c.useState)(!1),w=Object(p.a)(y,2),k=w[0],C=w[1],S=Object(c.useState)(""),D=Object(p.a)(S,2),W=D[0],E=D[1],_=function(e){var t=e.target,n=t.name,c=t.value;O((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},n,c))})),N("")},F=function(){var t=Object(h.a)(b.a.mark((function t(){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i!==e.product.name||r!==e.product.weight||d!==e.product.height||o!==e.product.width||j!==e.product.depth){t.next=5;break}return E("message-blue"),N("No data to be changed"),t.abrupt("return");case 5:return N(T),C(!0),E("message-green"),n={_id:a,name:i,weight:r||void 0,height:d||void 0,width:o||void 0,depth:j||void 0},"/api",t.prev=10,t.next=13,x.a.patch("/api",n,{headers:{"Content-Type":"application/json"}});case 13:c=t.sent,e.changeProduct(n),C(!1),c.data.message?(E("message-blue"),N(c.data.message)):(E("message-red"),N(c.data.error)),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(10),console.log("error:",t.t0.message||t.t0);case 22:case"end":return t.stop()}}),t,null,[[10,19]])})));return function(){return t.apply(this,arguments)}}();return Object(l.jsx)(P.a,{ariaHideApp:!1,isOpen:e.openModal,style:A,children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{className:"modal-title",children:"Edit product"}),Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{className:"modal-label",children:" Name "}),Object(l.jsx)("input",{required:!0,id:"name",className:"text-form",type:"text",name:"name",value:i,onChange:_,disabled:k})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{className:"modal-label",children:" Weight "}),Object(l.jsx)("input",{id:"weight",className:"text-form",type:"number",name:"weight",value:r,onChange:_,disabled:k}),Object(l.jsx)("span",{className:"units",children:"Kg"})]}),Object(l.jsx)("p",{className:"modal-label",children:" Dimensions "}),Object(l.jsxs)("div",{className:"dimensions",children:[Object(l.jsx)("span",{className:"dimensions-title",children:" Height "}),Object(l.jsx)("input",{id:"height",type:"number",className:"dimensions-fields",name:"height",value:d,onChange:_,disabled:k}),Object(l.jsx)("span",{className:"units",children:"cm"})]}),Object(l.jsxs)("div",{className:"dimensions",children:[Object(l.jsx)("span",{className:"dimensions-title",children:" Width "}),Object(l.jsx)("input",{id:"width",type:"number",className:"dimensions-fields",name:"width",value:o,onChange:_,disabled:k}),Object(l.jsx)("span",{className:"units",children:"cm"})]}),Object(l.jsxs)("div",{className:"dimensions",children:[Object(l.jsx)("span",{className:"dimensions-title",children:" Depth "}),Object(l.jsx)("input",{id:"depth",type:"number",className:"dimensions-fields",name:"depth",value:j,onChange:_,disabled:k}),Object(l.jsx)("span",{className:"units",children:"cm"})]})]}),Object(l.jsxs)("div",{className:"d-flex flex-column bt-position",children:[Object(l.jsx)("button",{className:"".concat(k?"disabled-bt-style":"bt-style close"),onClick:function(){return e.closeModal()},disabled:k,children:"Close"}),Object(l.jsx)("button",{className:"".concat(k?"disabled-bt-style":"bt-style save"),onClick:function(){return F()},disabled:k,children:"Save"})]}),Object(l.jsx)("div",{className:"message ".concat(W),children:Object(l.jsxs)("p",{children:[" ",v]})})]})})},E="/api",_={textAlign:"center",fontWeight:"bold",padding:"1rem"},F=Object(l.jsx)("tr",{children:Object(l.jsxs)("td",{colSpan:"7",style:Object(m.a)(Object(m.a)({},_),{},{color:"red"}),children:[Object(l.jsxs)("p",{children:["DB is empty. ",Object(l.jsx)(k.a,{color:"gray"})]}),Object(l.jsx)("p",{children:"Add new products by clicking in "}),Object(l.jsx)("p",{children:Object(l.jsx)(r.b,{to:"/addProduct",children:Object(l.jsx)("span",{style:{color:"blue"},children:"Add Product"})})})]})}),H=Object(l.jsx)("tr",{children:Object(l.jsxs)("td",{colSpan:"7",style:Object(m.a)(Object(m.a)({},_),{},{color:"green",padding:"2rem"}),children:[Object(l.jsx)(C.a,{})," Processing DB query..."]})}),M=function(){var e=Object(c.useState)(""),t=Object(p.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(p.a)(a,2),r=i[0],d=i[1],o=Object(c.useState)(""),j=Object(p.a)(o,2),u=j[0],m=j[1],O=Object(c.useState)(""),f=Object(p.a)(O,2),g=f[0],v=f[1],N=Object(c.useState)(!1),k=Object(p.a)(N,2),C=k[0],S=k[1],P=Object(c.useState)(""),D=Object(p.a)(P,2),A=D[0],T=D[1];Object(c.useEffect)((function(){d(H);var e=function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(E,{headers:{"Content-Type":"application/json"},data:{action:"name"}});case 3:if(!(t=e.sent).data.content){e.next=8;break}s(t.data.content),e.next=9;break;case 8:throw new Error;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),d(null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){s({}),d({}),m(""),S(""),T("")}}),[]),Object(c.useEffect)((function(){n&&n.length&&d(L(n))}),[n]);var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update",t=arguments.length>1?arguments[1]:void 0;if("remove"===e)return n.filter((function(e){return e._id!==t}));var c=n.filter((function(e){return e._id!==t._id}));return[].concat(Object(y.a)(c),[t])},M=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,c,a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=window.prompt("Type product's name (".concat(t.name,") to confirm you wanna delete it:")))!==t.name){e.next=26;break}return c={productId:t._id},e.prev=3,m("Deleting..."),v("message-green"),e.next=8,x.a.delete(E,{headers:{"Content-Type":"application/json"},data:c});case 8:if(!(a=e.sent).data.success){e.next=16;break}v("message-blue"),m('Product "'.concat(t.name,'" has been deleted successfully!')),i=_("remove",t._id),s(i),e.next=17;break;case 16:throw new Error(a.data.error);case 17:setTimeout((function(){m("")}),4e3),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),v("message-red"),m(e.t0.message||"Something bad happened, please try again later. ;)");case 24:e.next=27;break;case 26:window.alert("\nWrong product's name.\n\n  You typed: ".concat(n||"<empty>","\n  It has to be: ").concat(t.name));case 27:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(t){return e.apply(this,arguments)}}(),I=function(e){T(e),S(!0)},L=function(e){return e.map((function(e,t){var n=e._id,c=e.name,s=e.weight,a=e.height,i=e.width,r=e.depth;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"set-center",onClick:function(){return I(e)},children:t+1}),Object(l.jsx)("td",{className:"set-left",onClick:function(){return I(e)},children:c}),Object(l.jsx)("td",{className:"set-center",onClick:function(){return I(e)},children:s}),Object(l.jsx)("td",{className:"set-center",onClick:function(){return I(e)},children:a}),Object(l.jsx)("td",{className:"set-center",onClick:function(){return I(e)},children:i}),Object(l.jsx)("td",{className:"set-center",onClick:function(){return I(e)},children:r}),Object(l.jsx)("td",{className:"icons",onClick:function(){return I(e)},children:Object(l.jsxs)("div",{className:"tooltip",children:[Object(l.jsx)("span",{className:"tooltip-text",children:"Edit product"}),Object(l.jsx)(w.a,{color:"green"})]})}),Object(l.jsx)("td",{className:"icons",onClick:function(){return M(e)},children:Object(l.jsxs)("div",{className:"tooltip",children:[Object(l.jsx)("span",{className:"tooltip-text",children:"Delete product"}),Object(l.jsx)(w.b,{color:"darkred"})]})})]},n)}))};return Object(l.jsxs)("div",{className:"main",children:[C&&Object(l.jsx)(W,{openModal:C,closeModal:function(){return S(!1)},product:A,changeProduct:function(e){return function(e){var t=_("update",e);s(t)}(e)}}),Object(l.jsx)("h2",{className:"main-title",children:" List Products page"}),Object(l.jsx)("div",{className:"message ".concat(g),children:Object(l.jsxs)("p",{children:[" ",u]})}),Object(l.jsxs)("table",{children:[Object(l.jsxs)("thead",{id:"color-head",children:[Object(l.jsxs)("tr",{style:{align:"center"},children:[Object(l.jsx)("th",{rowSpan:"2",className:"num-head",children:" #"}),Object(l.jsx)("th",{rowSpan:"2",className:"name-head",children:"Name"}),Object(l.jsx)("th",{rowSpan:"2",className:"others-head",children:"Weight (Kg)"}),Object(l.jsx)("th",{rowSpan:"1",colSpan:"3",children:"Dimensions (cm)"}),Object(l.jsx)("th",{rowSpan:"2",colSpan:"2",children:"Actions"})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{className:"others-head",children:"Height"}),Object(l.jsx)("th",{className:"others-head",children:"Width"}),Object(l.jsx)("th",{className:"others-head",children:"Depth"})]})]}),Object(l.jsx)("tbody",{children:r||F})]})]})},I=(n(91),function(){return Object(l.jsxs)("div",{className:"home-settings",children:[Object(l.jsx)("h1",{children:" Hello Mr. Dumpty"}),Object(l.jsx)("h2",{children:" Welcome and enjoy the system "}),Object(l.jsx)("h2",{children:"In the bar above you can reach and work on the folowing features:"}),Object(l.jsx)("div",{className:"list-position",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)(r.b,{to:"/addProduct",children:Object(l.jsx)("h2",{children:"1. Add a new Product"})}),Object(l.jsx)(r.b,{to:"/listProducts",children:Object(l.jsx)("h2",{children:"2. List, Edit and Delete a product"})})]})})]})});var L=function(){return Object(l.jsxs)(r.a,{children:[Object(l.jsx)(o,{}),Object(l.jsxs)(d.c,{children:[Object(l.jsx)(d.a,{exact:!0,path:"/",children:Object(l.jsx)(I,{})}),Object(l.jsx)(d.a,{exact:!0,path:"/addProduct",children:Object(l.jsx)(N,{})}),Object(l.jsx)(d.a,{exact:!0,path:"/listProducts",children:Object(l.jsx)(M,{})})]})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,93)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(L,{})}),document.getElementById("root")),B()}},[[92,1,2]]]);
//# sourceMappingURL=main.8c21662b.chunk.js.map